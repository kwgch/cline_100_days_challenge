# System Patterns

## システム全体構成
- HTML, CSS, JavaScript（p5.js）によるシングルページWebアプリ
- ファイル構成: index.html, style.css, sketch.js, memory-bank/（ドキュメント）
- p5.jsのWEBGLモードを利用し、canvas上で4次元超立方体を描画

## 主要設計パターン
- **イベント駆動型インタラクション**  
  タッチ/マウスイベント（タップ・スワイプ/ドラッグ・ピンチ/ホイール）で回転・ズーム・色変化を制御
- **レスポンシブデザイン**  
  windowResizedイベントでcanvasサイズ・スケールを自動調整
- **状態管理**  
  グローバル変数で回転角度・色タイマー・ズーム倍率・インタラクション状態を一元管理
- **UIレス設計**  
  追加UI要素なし。canvas上の操作のみで全機能を実現

## コンポーネント関係
- index.html: アプリのエントリーポイント。p5.jsとsketch.jsを読み込む
- style.css: レイアウト・タッチ操作最適化
- sketch.js: 描画・インタラクションロジック全般（回転・ズーム・色変化）
- memory-bank/: ドキュメント・設計情報

## 技術的意思決定
- p5.jsのWEBGLモード採用（3D描画・タッチ/マウス統合が容易）
- 色変化はcolorTimerで一元管理
- 回転はユーザー操作のみ（自動回転は4次元投影のみ維持）
- ズーム操作（ピンチ/ホイール）はscaleFactorで一元管理
- パフォーマンス重視でline()描画を基本とする

## 拡張性
- ズーム（ピンチ/ホイール）は実装済み
- パン・図形切替など、今後の拡張も容易な設計
- memory-bankで設計・実装パターンを随時記録し、進化に対応
